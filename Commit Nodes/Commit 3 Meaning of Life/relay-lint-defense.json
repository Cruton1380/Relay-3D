{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Relay Lint Defense Rules Catalog",
  "version": "1.0.0",
  "date": "2026-02-04",
  "source": "04.02.2026 MD Canon 1307 + RELAY-ENFORCEMENT-CONTRACTS.md",
  "description": "Complete catalog of lint rules enforcing Relay's architectural invariants",
  
  "rules": [
    {
      "id": "LINT-SAC-001",
      "name": "ANCHOR_CONTRACT_REQUIRED",
      "severity": "BLOCK_DEPLOY",
      "category": "state_anchoring",
      "description": "All 2D integrations must have State Anchoring Contract",
      "applies_to": ["src/integrations/**/*.mjs"],
      "checks": {
        "pattern": "telemetry|event|capture|sync",
        "requires": {
          "contract_reference": true,
          "anchored_state_types": true,
          "retention_policy": true,
          "redaction_policy": true
        }
      },
      "violation": {
        "message": "2D integration found without State Anchoring Contract",
        "remedy": "Create SAC with anchored_state_types, retention, redaction"
      }
    },
    
    {
      "id": "LINT-DRIFT-001",
      "name": "DRIFT_OBJECTS_REQUIRED",
      "severity": "BLOCK_DEPLOY",
      "category": "drift_enforcement",
      "description": "Cache/index mismatches must create drift objects (not warnings)",
      "applies_to": ["src/cache/**/*.mjs", "src/index/**/*.mjs"],
      "checks": {
        "function": "validateCache|checkCacheConsistency|verifyIndex",
        "requires": {
          "on_mismatch": "createDriftObject",
          "no_silent_warnings": true
        }
      },
      "violation": {
        "message": "Cache validation found but no drift object creation",
        "remedy": "Replace console.warn with createDriftObject()"
      }
    },
    
    {
      "id": "LINT-AUTH-001",
      "name": "AUTHORITY_DECAY_REQUIRED",
      "severity": "BLOCK_DEPLOY",
      "category": "authority",
      "description": "All authorityRef objects must have expires_at timestamp",
      "applies_to": ["src/**/*.mjs"],
      "checks": {
        "object_type": "authorityRef",
        "requires": {
          "issued_at": true,
          "expires_at": true,
          "max_duration": "30d"
        }
      },
      "violation": {
        "message": "AuthorityRef found without expires_at timestamp",
        "remedy": "Add expires_at field (max 30 days from issued_at)"
      }
    },
    
    {
      "id": "LINT-LEARN-001",
      "name": "NO_POLICY_MUTATION_FROM_LEARNING",
      "severity": "BLOCK_DEPLOY",
      "category": "learning_boundary",
      "description": "Learning modules cannot emit POLICY_APPLIED commits",
      "applies_to": ["src/learning/**/*.mjs", "src/ml/**/*.mjs", "src/analytics/**/*.mjs"],
      "checks": {
        "module_type": "learning|ml|analytics",
        "forbidden_commits": ["POLICY_APPLIED"],
        "allowed_commits": ["POLICY_RECOMMENDATION", "STAGE_READINESS_REPORT"]
      },
      "violation": {
        "message": "Learning module attempts to emit POLICY_APPLIED commit",
        "remedy": "Change to POLICY_RECOMMENDATION. Humans must approve via POLICY_APPLIED."
      }
    },
    
    {
      "id": "LINT-UX-001",
      "name": "REFUSAL_EXPLANATION_REQUIRED",
      "severity": "BLOCK_DEPLOY",
      "category": "refusal_ux",
      "description": "All disabled actions must explain why + next steps",
      "applies_to": ["src/frontend/components/**/*.jsx"],
      "checks": {
        "component_type": "Button|ActionButton",
        "when": "disabled === true",
        "requires": {
          "refusalReason": true,
          "nextSteps": true
        }
      },
      "violation": {
        "message": "Disabled button found without refusal explanation",
        "remedy": "Add refusalReason and nextSteps props"
      }
    },
    
    {
      "id": "LINT-PRESSURE-001",
      "name": "PRESSURE_BUDGET_HIERARCHICAL",
      "severity": "BLOCK_DEPLOY",
      "category": "pressure_budgets",
      "description": "Pressure budgets must be scoped (Global → Org → Team → System → Object)",
      "applies_to": ["src/pressure/**/*.mjs"],
      "checks": {
        "budget_definition": true,
        "requires": {
          "scopes": ["global", "org", "team", "system", "object"],
          "max_audit_frequency": true,
          "max_concurrent_disputes": true,
          "cooldowns": true
        }
      },
      "violation": {
        "message": "Pressure budget missing hierarchical scopes",
        "remedy": "Define budgets for all scopes: global, org, team, system, object"
      }
    },
    
    {
      "id": "LINT-CUTOVER-001",
      "name": "NO_DUAL_AUTHORITY_AFTER_CUTOVER",
      "severity": "BLOCK_DEPLOY",
      "category": "truth_cutover",
      "description": "After cutover, 2D writes must be refused",
      "applies_to": ["src/integrations/**/*.mjs"],
      "checks": {
        "function": "write|update|sync",
        "requires": {
          "check_cutover": true,
          "refuse_if_after_cutover": true
        }
      },
      "violation": {
        "message": "2D write function does not check cutover status",
        "remedy": "Add getTruthCutover check, refuse writes after cutover"
      }
    },
    
    {
      "id": "LINT-PRIVACY-001",
      "name": "TELEMETRY_MINIMIZATION_REQUIRED",
      "severity": "BLOCK_DEPLOY",
      "category": "privacy",
      "description": "All telemetry must define retention + redaction policies",
      "applies_to": ["src/telemetry/**/*.mjs"],
      "checks": {
        "function": "log|track|send",
        "requires": {
          "retention_policy": true,
          "redaction_policy": true,
          "aggregation_level": true
        }
      },
      "violation": {
        "message": "Telemetry function missing retention/redaction policy",
        "remedy": "Add retention_policy and redaction_policy to telemetry config"
      }
    },
    
    {
      "id": "LINT-EXIT-001",
      "name": "EXIT_MUST_BE_RESPECTED",
      "severity": "BLOCK_DEPLOY",
      "category": "human_flow",
      "description": "Cannot assign role to paused/dormant/exited user",
      "applies_to": ["src/roles/**/*.mjs", "src/governance/**/*.mjs"],
      "checks": {
        "function": "assignRole|assignTask",
        "requires": {
          "check_participation_state": true,
          "refuse_if_paused_dormant_exited": true
        }
      },
      "violation": {
        "message": "Role assignment found without participation state check",
        "remedy": "Check getParticipationState(user) before assignment"
      }
    },
    
    {
      "id": "LINT-EXIT-002",
      "name": "NO_SILENT_DISENGAGEMENT",
      "severity": "BLOCK_DEPLOY",
      "category": "human_flow",
      "description": "User disappearing requires participation state change",
      "applies_to": ["src/**/*.mjs"],
      "checks": {
        "user_inactivity_handler": true,
        "requires": {
          "transition_to_paused_or_exited": true,
          "no_silent_timeout": true
        }
      },
      "violation": {
        "message": "User inactivity handler missing participation state transition",
        "remedy": "On inactivity, transition to 'paused' or 'dormant' (not silent)"
      }
    },
    
    {
      "id": "LINT-PAUSE-001",
      "name": "PAUSE_BLOCKS_ASSIGNMENT",
      "severity": "BLOCK_DEPLOY",
      "category": "human_flow",
      "description": "Tasks cannot be assigned while user is paused",
      "applies_to": ["src/tasks/**/*.mjs"],
      "checks": {
        "function": "assignTask|createTask",
        "requires": {
          "check_pause_state": true,
          "automatic_refusal": true
        }
      },
      "violation": {
        "message": "Task assignment does not check pause state",
        "remedy": "Refuse task assignment if user is paused"
      }
    },
    
    {
      "id": "LINT-MINORITY-001",
      "name": "MINORITY_LOAD_RELIEF_REQUIRED",
      "severity": "BLOCK_DEPLOY",
      "category": "human_flow",
      "description": "Repeated canon loss + continued participation triggers relief",
      "applies_to": ["src/governance/**/*.mjs"],
      "checks": {
        "function": "recordVoteResult|processCanonSelection",
        "requires": {
          "check_consecutive_losses": true,
          "trigger_relief_at_3_losses": true
        }
      },
      "violation": {
        "message": "Canon voting does not check for minority load relief trigger",
        "remedy": "After 3 consecutive losses, trigger minority.relief object"
      }
    },
    
    {
      "id": "LINT-DISAGREE-001",
      "name": "SOFT_DIVERGENCE_ALLOWED",
      "severity": "BLOCK_DEPLOY",
      "category": "human_flow",
      "description": "Non-blocking divergence must be preserved (not escalated)",
      "applies_to": ["src/disputes/**/*.mjs"],
      "checks": {
        "function": "handleDisagreement|recordDivergence",
        "requires": {
          "allow_soft_divergence": true,
          "no_forced_escalation": true
        }
      },
      "violation": {
        "message": "Disagreement handler forces escalation (no soft divergence option)",
        "remedy": "Add divergence.soft object option (non-blocking, visible, recorded)"
      }
    },
    
    {
      "id": "LINT-TIME-001",
      "name": "COOLING_WINDOW_REQUIRED",
      "severity": "BLOCK_DEPLOY",
      "category": "human_flow",
      "description": "Gated commits require cooling window (no immediate execution)",
      "applies_to": ["src/governance/**/*.mjs"],
      "checks": {
        "commit_types": ["POLICY_APPLIED", "STAGE_TRANSITION", "AUTHORITY_GRANT"],
        "requires": {
          "cooling_window": "24h-72h",
          "no_bypass": true
        }
      },
      "violation": {
        "message": "Gated commit allows immediate execution (no cooling window)",
        "remedy": "Enforce 24-72h cooling window before execution"
      }
    },
    
    {
      "id": "LINT-SUMMARY-001",
      "name": "SUMMARY_IS_PROJECTION",
      "severity": "BLOCK_DEPLOY",
      "category": "human_flow",
      "description": "Summaries must be marked non-authoritative + cite commits",
      "applies_to": ["src/**/*.mjs"],
      "checks": {
        "commit_type": "CANON_SUMMARY",
        "requires": {
          "authoritative": false,
          "cited_commits": true,
          "expose_forks_and_scars": true
        }
      },
      "violation": {
        "message": "CANON_SUMMARY commit missing citation or marked authoritative",
        "remedy": "Set authoritative:false, add cited_commits array, expose forks"
      }
    },
    
    {
      "id": "LINT-STABILITY-001",
      "name": "STABILITY_CLOSURE_ALLOWED",
      "severity": "BLOCK_DEPLOY",
      "category": "human_flow",
      "description": "Cannot re-open stabilized issue without new evidence",
      "applies_to": ["src/issues/**/*.mjs"],
      "checks": {
        "function": "reopenIssue|createDispute",
        "requires": {
          "check_stability_confirmed": true,
          "require_new_evidence": true
        }
      },
      "violation": {
        "message": "Issue re-opening does not check STABILITY_CONFIRMED status",
        "remedy": "Require new evidence to re-open stabilized issues"
      }
    },
    
    {
      "id": "LINT-FED-001",
      "name": "NO_AUTHORITY_EXPORT",
      "severity": "BLOCK_DEPLOY",
      "category": "federation",
      "description": "AuthorityRefs never cross federation boundaries",
      "applies_to": ["src/federation/**/*.mjs"],
      "checks": {
        "function": "exportToFederation|syncAcrossBoundary",
        "requires": {
          "no_authority_export": true,
          "evidence_only": true
        }
      },
      "violation": {
        "message": "Attempting to export authorityRef across federation boundary",
        "remedy": "AuthorityRefs are local to federation. Export evidence only."
      }
    },
    
    {
      "id": "LINT-FED-002",
      "name": "EVIDENCE_SCHEMA_CHECK",
      "severity": "BLOCK_DEPLOY",
      "category": "federation",
      "description": "Evidence crossing boundaries must be schema-compatible",
      "applies_to": ["src/federation/**/*.mjs"],
      "checks": {
        "function": "acceptEvidence|importEvidence",
        "requires": {
          "schema_validation": true,
          "explicit_acceptance": true
        }
      },
      "violation": {
        "message": "Evidence import without schema validation",
        "remedy": "Validate evidence against receiving federation's schema"
      }
    },
    
    {
      "id": "LINT-FED-003",
      "name": "CANON_NON_OVERRIDE",
      "severity": "BLOCK_DEPLOY",
      "category": "federation",
      "description": "External canon cannot override local canon selection",
      "applies_to": ["src/federation/**/*.mjs"],
      "checks": {
        "function": "selectCanon|applyExternalCanon",
        "requires": {
          "local_vote_required": true,
          "no_auto_override": true
        }
      },
      "violation": {
        "message": "Canon selection allows external override without local vote",
        "remedy": "External canon requires explicit local acceptance vote"
      }
    },
    
    {
      "id": "LINT-FED-004",
      "name": "EXPLICIT_INCOMPATIBILITY_REQUIRED",
      "severity": "BLOCK_DEPLOY",
      "category": "federation",
      "description": "Federations must explicitly declare incompatibilities",
      "applies_to": ["src/federation/**/*.mjs"],
      "checks": {
        "object_type": "federation.boundary",
        "requires": {
          "incompatibility_list": true,
          "explicit_declaration": true
        }
      },
      "violation": {
        "message": "Federation boundary missing incompatibility declarations",
        "remedy": "Declare policy.incompatible for non-adopted external policies"
      }
    },
    
    {
      "id": "LINT-ROBIN-001",
      "name": "NO_PERMANENT_ROLES",
      "severity": "BLOCK_DEPLOY",
      "category": "human_flow",
      "description": "All roles must have expiry + cooldown",
      "applies_to": ["src/roles/**/*.mjs"],
      "checks": {
        "object_type": "role_assignment",
        "requires": {
          "expires_at": true,
          "cooldown_period": true,
          "max_duration": "30d"
        }
      },
      "violation": {
        "message": "Role assignment without expiry or cooldown",
        "remedy": "Add expires_at (max 30d) and cooldown_period to role"
      }
    },
    
    {
      "id": "LINT-CORE-001",
      "name": "NO_BYPASSING_THREE_WAY_MATCH",
      "severity": "BLOCK_DEPLOY",
      "category": "core_physics",
      "description": "All state changes must use three-way match verification",
      "applies_to": ["src/**/*.mjs"],
      "checks": {
        "function": "updateState|mutateState|changeState",
        "requires": {
          "three_way_match_called": true,
          "intent_reality_projection_present": true
        }
      },
      "violation": {
        "message": "State change bypasses three-way match",
        "remedy": "Call threeWayMatch({intent, reality, projection}) before mutation"
      }
    },
    
    {
      "id": "LINT-CORE-002",
      "name": "NO_SILENT_DRIFT_HANDLING",
      "severity": "BLOCK_DEPLOY",
      "category": "core_physics",
      "description": "Drift must create drift objects (not silent handling)",
      "applies_to": ["src/**/*.mjs"],
      "checks": {
        "pattern": "drift|mismatch|divergence",
        "requires": {
          "create_drift_object": true,
          "no_silent_fix": true,
          "no_silent_ignore": true
        }
      },
      "violation": {
        "message": "Drift detected but handled silently (no drift object)",
        "remedy": "Create drift object for all mismatches"
      }
    },
    
    {
      "id": "LINT-CORE-003",
      "name": "NO_AUTO_POLICY_MUTATION",
      "severity": "BLOCK_DEPLOY",
      "category": "core_physics",
      "description": "Policy changes require human approval (no auto-tuning)",
      "applies_to": ["src/**/*.mjs"],
      "checks": {
        "function": "updatePolicy|changePolicy|tunePolicy",
        "requires": {
          "human_approval_commit": true,
          "commit_type": "POLICY_APPLIED"
        }
      },
      "violation": {
        "message": "Policy mutation without human approval commit",
        "remedy": "Policy changes require POLICY_APPLIED commit from governance"
      }
    },
    
    {
      "id": "LINT-CORE-004",
      "name": "NO_PERMANENT_AUTHORITY",
      "severity": "BLOCK_DEPLOY",
      "category": "core_physics",
      "description": "Authority must have expiry (no infinite grants)",
      "applies_to": ["src/**/*.mjs"],
      "checks": {
        "object_type": "authorityRef|role_assignment",
        "requires": {
          "expires_at": true
        }
      },
      "violation": {
        "message": "Authority or role missing expires_at timestamp",
        "remedy": "All authority must expire (max 30d)"
      }
    },
    
    {
      "id": "LINT-CORE-005",
      "name": "NO_AMBIENT_AUTHORITY",
      "severity": "BLOCK_DEPLOY",
      "category": "core_physics",
      "description": "Authority must be explicit (no implicit grants)",
      "applies_to": ["src/**/*.mjs"],
      "checks": {
        "function": "checkAuthority|hasPermission",
        "requires": {
          "explicit_authority_ref": true,
          "no_role_inference": true
        }
      },
      "violation": {
        "message": "Authority check uses implicit/inferred permission",
        "remedy": "Require explicit authorityRef with scope, expiry"
      }
    },
    
    {
      "id": "LINT-CORE-006",
      "name": "NO_HIDDEN_STATE_CAPTURE",
      "severity": "BLOCK_DEPLOY",
      "category": "core_physics",
      "description": "All 2D state anchoring must be declared (SAC required)",
      "applies_to": ["src/integrations/**/*.mjs"],
      "checks": {
        "pattern": "capture|sync|mirror|replicate",
        "requires": {
          "state_anchoring_contract": true
        }
      },
      "violation": {
        "message": "State anchoring without SAC declaration",
        "remedy": "Create integration.anchor_contract before anchoring state"
      }
    },
    
    {
      "id": "LINT-CORE-007",
      "name": "NO_UNBOUNDED_RECURSION",
      "severity": "BLOCK_DEPLOY",
      "category": "core_physics",
      "description": "Recursive verification must have depth limit",
      "applies_to": ["src/verification/**/*.mjs"],
      "checks": {
        "function": "verify|check|audit",
        "requires": {
          "max_recursion_depth": true,
          "depth_limit": 10
        }
      },
      "violation": {
        "message": "Recursive verification without depth limit",
        "remedy": "Add max_recursion_depth parameter (recommended: 10)"
      }
    },
    
    {
      "id": "LINT-CORE-008",
      "name": "NO_SILENT_FAILURE",
      "severity": "BLOCK_DEPLOY",
      "category": "core_physics",
      "description": "All failures must create refusal objects (not silent errors)",
      "applies_to": ["src/**/*.mjs"],
      "checks": {
        "pattern": "try-catch|error handling",
        "requires": {
          "create_refusal_object": true,
          "no_console_error_only": true
        }
      },
      "violation": {
        "message": "Error handling uses console.error only (no refusal object)",
        "remedy": "Create refusal object with reasons + next_steps"
      }
    },
    
    {
      "id": "LINT-CORE-009",
      "name": "NO_ADVERSARIAL_LANGUAGE",
      "severity": "BLOCK_DEPLOY",
      "category": "core_physics",
      "description": "Code/comments must use safe language (no attack/exploit/breach)",
      "applies_to": ["src/**/*.mjs", "src/**/*.jsx"],
      "checks": {
        "pattern": "attack|exploit|breach|hack|penetrate|infiltrate|conquer",
        "requires": {
          "safe_alternatives_only": true
        }
      },
      "violation": {
        "message": "Adversarial language found in code/comments",
        "remedy": "Use safe alternatives: audit, verify, check, reconcile"
      }
    },
    
    {
      "id": "LINT-CORE-010",
      "name": "NO_EXECUTION_IN_SIMULATION_MODE",
      "severity": "BLOCK_DEPLOY",
      "category": "core_physics",
      "description": "State-changing actions must check system mode (block in SIMULATION)",
      "applies_to": ["src/**/*.mjs"],
      "checks": {
        "function": "commit|execute|mutate|apply",
        "requires": {
          "check_system_mode": true,
          "refuse_if_simulation": true
        }
      },
      "violation": {
        "message": "State-changing function does not check system mode",
        "remedy": "Add getSystemMode() check, refuse if SIMULATION"
      }
    },
    
    {
      "id": "LINT-LOAD-001",
      "name": "COGNITIVE_LOAD_CAP_REQUIRED",
      "severity": "BLOCK_DEPLOY",
      "category": "human_flow",
      "description": "All role assignments must check cognitive load cap",
      "applies_to": ["src/roles/**/*.mjs"],
      "checks": {
        "function": "assignRole|assignTask",
        "requires": {
          "check_cognitive_load": true,
          "refuse_if_exceeded": true
        }
      },
      "violation": {
        "message": "Role assignment without cognitive load check",
        "remedy": "Check getCognitiveLoad(user) < cap before assignment"
      }
    },
    
    {
      "id": "LINT-EDUCATION-001",
      "name": "LEARNING_NO_AUTHORITY_GRANT",
      "severity": "BLOCK_DEPLOY",
      "category": "human_flow",
      "description": "Education/learning cannot grant authority",
      "applies_to": ["src/education/**/*.mjs", "src/learning/**/*.mjs"],
      "checks": {
        "function": "completeStage|unlockContent",
        "requires": {
          "no_authority_grant": true,
          "learning_non_authoritative": true
        }
      },
      "violation": {
        "message": "Learning module attempts to grant authority",
        "remedy": "Learning unlocks content only. Authority requires governance commit."
      }
    },
    
    {
      "id": "LINT-STAGE-001",
      "name": "NO_EXECUTION_BEYOND_ACTIVE_STAGE",
      "severity": "BLOCK_DEPLOY",
      "category": "stage_gates",
      "description": "Actions must check global stage gate (refuse if stage inactive)",
      "applies_to": ["src/**/*.mjs"],
      "checks": {
        "function": "execute|commit|apply",
        "requires": {
          "check_global_stage": true,
          "refuse_if_stage_inactive": true
        }
      },
      "violation": {
        "message": "Action execution without global stage gate check",
        "remedy": "Check getGlobalStage().allows(action), refuse if inactive"
      }
    },
    
    {
      "id": "LINT-SCHEMA-001",
      "name": "RENDER_PACKET_SCHEMA_VALIDATION",
      "severity": "BLOCK_DEPLOY",
      "category": "interface_contracts",
      "description": "All render packets must validate against schema",
      "applies_to": ["src/backend/routes/filaments.mjs"],
      "checks": {
        "function": "generateRenderPacket|emitPacket",
        "requires": {
          "schema_validation": true,
          "schema_file": "RELAY-RENDER-PACKET.schema.json"
        }
      },
      "violation": {
        "message": "Render packet emitted without schema validation",
        "remedy": "Validate packet against RELAY-RENDER-PACKET.schema.json before emit"
      }
    },
    
    {
      "id": "LINT-FRONTEND-001",
      "name": "NO_FRONTEND_ERI_COMPUTATION",
      "severity": "BLOCK_DEPLOY",
      "category": "interface_contracts",
      "description": "Frontend must consume packets only (no ERI recomputation)",
      "applies_to": ["src/frontend/**/*.jsx", "src/frontend/**/*.js"],
      "checks": {
        "pattern": "calculateERI|computeERI|eriCalculator",
        "requires": {
          "no_eri_computation_in_frontend": true
        }
      },
      "violation": {
        "message": "Frontend component computes ERI (violates render packet contract)",
        "remedy": "Remove ERI computation. Frontend renders packets only."
      }
    },
    
    {
      "id": "LINT-FINALIZE-001",
      "name": "DRIFT_BLOCKS_FINALIZATION",
      "severity": "BLOCK_DEPLOY",
      "category": "drift_enforcement",
      "description": "Open drift objects must block finalization",
      "applies_to": ["src/commits/**/*.mjs"],
      "checks": {
        "function": "finalizeCommit|closeCommit",
        "requires": {
          "check_open_drifts": true,
          "block_if_drifts_exist": true
        }
      },
      "violation": {
        "message": "Finalization allows commit despite open drift objects",
        "remedy": "Check getDriftObjects({status:'open'}), refuse if any exist"
      }
    },
    
    {
      "id": "LINT-CAPACITY-001",
      "name": "DRIFT_CONSUMES_CAPACITY",
      "severity": "BLOCK_DEPLOY",
      "category": "drift_enforcement",
      "description": "Drift objects must consume pressure budget capacity",
      "applies_to": ["src/drift/**/*.mjs"],
      "checks": {
        "function": "createDriftObject",
        "requires": {
          "consume_pressure_budget": true,
          "check_capacity_before_create": true
        }
      },
      "violation": {
        "message": "Drift object creation does not consume capacity",
        "remedy": "Check pressure budget, consume capacity, refuse if exhausted"
      }
    },
    
    {
      "id": "LINT-RENEWAL-001",
      "name": "AUTHORITY_RENEWAL_REQUIRES_JUSTIFICATION",
      "severity": "BLOCK_DEPLOY",
      "category": "authority",
      "description": "Authority renewal requires justification commit",
      "applies_to": ["src/auth/**/*.mjs"],
      "checks": {
        "function": "renewAuthority|extendAuthority",
        "requires": {
          "justification_required": true,
          "commit_type": "AUTHORITY_RENEWAL"
        }
      },
      "violation": {
        "message": "Authority renewal without justification",
        "remedy": "Create AUTHORITY_RENEWAL commit with justification field"
      }
    },
    
    {
      "id": "LINT-REPOS-001",
      "name": "NO_LARGE_BINARIES_IN_GIT",
      "severity": "BLOCK_DEPLOY",
      "category": "repo_hygiene",
      "description": "Binary files >10MB must not be committed (use Git LFS or external storage)",
      "applies_to": ["**/*"],
      "checks": {
        "file_size": ">10MB",
        "file_types": ["*.mp4", "*.mov", "*.zip", "*.docx", "*.pdf"],
        "requires": {
          "use_git_lfs_or_external": true
        }
      },
      "violation": {
        "message": "Large binary file committed to git history",
        "remedy": "Use Git LFS or link to external storage. See REPO-HYGIENE-RULES.md"
      }
    },
    
    {
      "id": "LINT-EDUCATION-002",
      "name": "EDUCATION_ROTATION_REQUIRED",
      "severity": "BLOCK_DEPLOY",
      "category": "human_flow",
      "description": "Teaching roles must rotate (round robin)",
      "applies_to": ["src/education/**/*.mjs"],
      "checks": {
        "role_type": "educator|teacher|trainer",
        "requires": {
          "rotation_enforced": true,
          "max_tenure": "30d"
        }
      },
      "violation": {
        "message": "Teaching role without rotation",
        "remedy": "Add round robin enforcement to educator role"
      }
    },
    
    {
      "id": "LINT-PROTECTED-001",
      "name": "PROTECTED_PROFILE_ENFORCEMENT",
      "severity": "BLOCK_DEPLOY",
      "category": "human_flow",
      "description": "Protected profiles must have reduced visibility + load caps",
      "applies_to": ["src/profiles/**/*.mjs"],
      "checks": {
        "profile_type": "protected",
        "requires": {
          "reduced_visibility": true,
          "cognitive_load_cap": true,
          "no_governance_roles": true,
          "mandatory_oversight": true
        }
      },
      "violation": {
        "message": "Protected profile missing safety constraints",
        "remedy": "Add visibility reduction, load cap, oversight requirement"
      }
    }
  ],
  
  "rule_categories": {
    "state_anchoring": {
      "description": "Enforce State Anchoring Contracts for 2D integrations",
      "rules": ["LINT-SAC-001"]
    },
    "drift_enforcement": {
      "description": "Enforce drift as first-class objects (not warnings)",
      "rules": ["LINT-DRIFT-001", "LINT-FINALIZE-001", "LINT-CAPACITY-001"]
    },
    "authority": {
      "description": "Enforce authority decay and renewal",
      "rules": ["LINT-AUTH-001", "LINT-RENEWAL-001"]
    },
    "learning_boundary": {
      "description": "Prevent learning from mutating policy",
      "rules": ["LINT-LEARN-001", "LINT-EDUCATION-001"]
    },
    "refusal_ux": {
      "description": "Ensure clear, actionable refusals",
      "rules": ["LINT-UX-001"]
    },
    "pressure_budgets": {
      "description": "Enforce hierarchical pressure budgets",
      "rules": ["LINT-PRESSURE-001"]
    },
    "truth_cutover": {
      "description": "Enforce one-way truth cutover (2D→Relay)",
      "rules": ["LINT-CUTOVER-001"]
    },
    "privacy": {
      "description": "Enforce privacy and data minimization",
      "rules": ["LINT-PRIVACY-001"]
    },
    "human_flow": {
      "description": "Enforce humane participation (exit, pause, relief, rotation)",
      "rules": [
        "LINT-EXIT-001", "LINT-EXIT-002", "LINT-PAUSE-001",
        "LINT-MINORITY-001", "LINT-DISAGREE-001", "LINT-TIME-001",
        "LINT-SUMMARY-001", "LINT-STABILITY-001", "LINT-ROBIN-001",
        "LINT-LOAD-001", "LINT-EDUCATION-002", "LINT-PROTECTED-001"
      ]
    },
    "federation": {
      "description": "Enforce federation boundaries and sovereignty",
      "rules": ["LINT-FED-001", "LINT-FED-002", "LINT-FED-003", "LINT-FED-004"]
    },
    "core_physics": {
      "description": "Enforce core Relay physics (three-way match, no silent drift, etc.)",
      "rules": [
        "LINT-CORE-001", "LINT-CORE-002", "LINT-CORE-003",
        "LINT-CORE-004", "LINT-CORE-005", "LINT-CORE-006",
        "LINT-CORE-007", "LINT-CORE-008", "LINT-CORE-009",
        "LINT-CORE-010"
      ]
    },
    "interface_contracts": {
      "description": "Enforce backend-frontend contracts (render packets)",
      "rules": ["LINT-SCHEMA-001", "LINT-FRONTEND-001"]
    },
    "stage_gates": {
      "description": "Enforce global stage gate checks",
      "rules": ["LINT-STAGE-001"]
    },
    "repo_hygiene": {
      "description": "Enforce repository hygiene (no large binaries)",
      "rules": ["LINT-REPOS-001"]
    }
  },
  
  "severity_levels": {
    "BLOCK_DEPLOY": {
      "description": "Critical violations that prevent deployment",
      "action": "CI/CD pipeline fails, deployment blocked",
      "override": "Requires governance approval + justification"
    },
    "WARN": {
      "description": "Non-critical violations that generate warnings",
      "action": "Logged, visible in dashboard, does not block deploy"
    }
  },
  
  "enforcement": {
    "ci_cd": {
      "pre_commit": "Run lint rules on changed files",
      "pre_push": "Run lint rules on all files",
      "pr_check": "Run lint rules, block merge if violations",
      "deploy_gate": "Run lint rules, block deploy if BLOCK_DEPLOY violations"
    },
    "runtime": {
      "startup": "Validate all contracts (SAC, authority, budgets) on boot",
      "per_request": "Check system mode, authority, budgets before execution",
      "background": "Monitor drift objects, authority expiry, pressure budgets"
    }
  },
  
  "metadata": {
    "total_rules": 27,
    "block_deploy_rules": 27,
    "warn_rules": 0,
    "categories": 13,
    "status": "LOCKED",
    "last_updated": "2026-02-04"
  }
}
